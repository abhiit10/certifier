<?xml version="1.0"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN"
                         "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app metadata-complete="true" >

 <display-name>Archetype Created Web Application</display-name>
 <filter>
  <filter-name>LoginPageFilter</filter-name>
  <display-name>login page filter</display-name>
  <description>If user is already authenticated, or redirect the request to the Home.jsp</description>
  <filter-class>com.certifier.rest.filter.SessionFilter</filter-class>
 </filter>
 <filter-mapping>
  <filter-name>LoginPageFilter</filter-name>
  <url-pattern>/login.jsp</url-pattern>
 </filter-mapping>
 <servlet>
  <servlet-name>jersey-serlvet</servlet-name>
  <servlet-class>com.sun.jersey.spi.container.servlet.ServletContainer</servlet-class>
  <init-param>
   <param-name>com.sun.jersey.config.property.packages</param-name>
   <param-value>com.certifier.rest.service</param-value>
  </init-param>
  <init-param>
   <param-name>com.sun.jersey.api.json.POJOMappingFeature</param-name>
   <param-value>true</param-value>
  </init-param>
  <init-param>
   <param-name>com.sun.jersey.spi.container.ContainerRequestFilters</param-name>
   <param-value>com.sun.jersey.api.container.filter.LoggingFilter</param-value>
  </init-param>
  <init-param>
   <param-name>com.sun.jersey.spi.container.ContainerResponseFilters</param-name>
   <param-value>com.sun.jersey.api.container.filter.LoggingFilter</param-value>
  </init-param>
  <load-on-startup>1</load-on-startup>
 </servlet>
 <servlet>
  <servlet-name>LoginController</servlet-name>
  <display-name>LoginController</display-name>
  <description>main controller for login, forgot password, sign up pages</description>
  <servlet-class>com.certifier.rest.service.LoginController</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>LogoutController</servlet-name>
  <display-name>LogoutController</display-name>
  <description>It invalidates the session associated with the user</description>
  <servlet-class>com.certifier.rest.service.LogoutController</servlet-class>
 </servlet>
 <servlet>
  <servlet-name>ExamController</servlet-name>
  <display-name>ExamController</display-name>
  <description>Controller which controlls the complete exam or real test</description>
  <servlet-class>com.certifier.rest.service.ExamController</servlet-class>
 </servlet>
 <servlet>
 	<servlet-name>ProfileController</servlet-name>
 	<display-name>ProfileController</display-name>
 	<description>adding images, information about the user .</description>
 	<servlet-class>com.certifier.rest.service.ProfileController</servlet-class>
 </servlet>
 <servlet>
 	<servlet-name>SolrSearchController</servlet-name>
 	<display-name>SolrSearchController</display-name>
 	<description></description>
 	<servlet-class>com.certifier.rest.service.SolrSearchController</servlet-class>
 </servlet>
 <servlet>
 	<servlet-name>QuestionController</servlet-name>
 	<display-name>QuestionController</display-name>
 	<description></description>
 	<servlet-class>com.certifier.rest.service.QuestionController</servlet-class>
 	
 </servlet>
 <servlet>
 	<servlet-name>SolrIndexingServlet</servlet-name>
 	<display-name>SolrIndexingServlet</display-name>
 	<description></description>
 	<servlet-class>com.certifier.rest.service.SolrIndexingServlet</servlet-class>
 	<load-on-startup>1</load-on-startup>
 </servlet>
 <servlet-mapping>
  <servlet-name>jersey-serlvet</servlet-name>
  <url-pattern>/rest/*</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>LoginController</servlet-name>
  <url-pattern>/LoginController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>LogoutController</servlet-name>
  <url-pattern>/LogoutController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
  <servlet-name>ExamController</servlet-name>
  <url-pattern>/ExamController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>ProfileController</servlet-name>
 	<url-pattern>/ProfileController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>SolrSearchController</servlet-name>
 	<url-pattern>/SolrSearchController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>QuestionController</servlet-name>
 	<url-pattern>/QuestionController</url-pattern>
 </servlet-mapping>
 <servlet-mapping>
 	<servlet-name>SolrIndexingServlet</servlet-name>
 	<url-pattern>/SolrIndexingServlet</url-pattern>
 	
 </servlet-mapping>
 <session-config>
  <session-timeout>60</session-timeout>
 </session-config>
 <welcome-file-list>
  <welcome-file>login.jsp</welcome-file>
 </welcome-file-list>
 <error-page>
   <exception-type>java.lang.Exception</exception-type>
  <location>/error.jsp</location>
 </error-page>
<!--   <error-page> -->
<!--    <error-code>500</error-code> -->
<!--   <location>/error.jsp</location> -->
<!--  </error-page> -->
 <security-constraint>
  <display-name>declarative-security</display-name>
  <web-resource-collection>
   <web-resource-name>administration</web-resource-name>
   <url-pattern>/admin.jsp</url-pattern>
   <http-method>GET</http-method>
   <http-method>POST</http-method>
   <http-method>PUT</http-method>
   <http-method>DELETE</http-method>
   <http-method>HEAD</http-method>
   <http-method>OPTIONS</http-method>
   <http-method>TRACE</http-method>
  </web-resource-collection>
 </security-constraint>
 <security-role>
  <description>only admin will be able to access the admin page.</description>
  <role-name>admin</role-name>
 </security-role>
</web-app>
